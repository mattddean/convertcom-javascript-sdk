/*!
 * Convert JS SDK
 * Version 1.0.0
 * Copyright(c) 2020-2022 Convert Insights, Inc
 * License Apache-2.0
 */
"use strict";var e=require("murmurhash"),t=require("@convertcom/js-sdk-utils");exports.BucketingManager=class{constructor(e,{loggerManager:s}={}){this._max_traffic=1e4,this._hash_seed=9999,this._loggerManager=s,this._max_traffic=t.objectDeepValue(e,"bucketing.max_traffic",1e4,!0),this._hash_seed=t.objectDeepValue(e,"bucketing.hash_seed",9999,!0)}selectBucket(e,t,s=0){let r=null,a=0;return Object.keys(e).some((i=>(a+=100*e[i]+s,t<a&&(r=i,!0)))),r||null}getValueVisitorBased(t,s=this._hash_seed){const r=e.v3(String(t),s)/4294967296*this._max_traffic;return parseInt(String(r),10)}getBucketForVisitor(e,t,s=0,r){const a=this.getValueVisitorBased(t,r);return this.selectBucket(e,a,s)}};
//# sourceMappingURL=index.min.js.map
